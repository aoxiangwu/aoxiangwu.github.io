<div id="rich" contentEditable="true"></div>
<textarea id="html" rows="12" cols="80"></textarea>
<script>
    // https://www.w3.org/TR/clipboard-apis/
    // Overwrite what is being pasted onto the clipboard.
    document.addEventListener('paste', function (e) {
        if (e.clipboardData.types.indexOf('text/html') > -1) {
            var richText = e.clipboardData.getData('text/html');
            richText = richText.replace(/<body>|<\/body>|<html>|<\/html>|<!--StartFragment-->|<!--EndFragment-->| font-style: normal;| font-variant-ligatures: normal;| font-variant-caps: normal;| font-variant-ligatures: normal;| font-variant-caps: normal;| letter-spacing: normal;| orphans: 2;| text-align: start;| text-indent: 0px;| text-transform: none;| white-space: normal;| widows: 2;| word-spacing: 0px;| -webkit-text-stroke-width: 0px;| text-decoration-style: initial;| text-decoration-color: initial;| word-wrap: break-word;| white-space: pre-wrap;| font-weight: 400;/g, '')
            document.querySelector('#rich').innerHTML += richText;
            document.querySelector('#html').innerText += richText;
            // This is necessary to prevent the default paste action.
            e.preventDefault();
        }
    });

    // document.querySelector('#html').onclick = function() {
    //     this.select();
	// 	document.execCommand('copy');
    // };

    // 除了用input/textarea自带的select方法选中文本后复制
    // 还可以用event.clipboardData.setData
    // js第二种复制文本的方法: https://stackoverflow.com/a/45071478/9970487 
</script>